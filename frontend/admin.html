<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>Admin - AI Guide ‡∏ô‡πà‡∏≤‡∏ô</title>
    <link rel="stylesheet" href="assets/styles/main.css">
    <link rel="stylesheet" href="assets/styles/admin.css">
</head>

<body>
    <div class="container">
        <h1>Admin Panel: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</h1>
        <hr>

        <h2>‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞ (AI Ingestion)</h2>
        <div class="form-container">
            <p>
                ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå PDF ‡∏´‡∏£‡∏∑‡∏≠ .txt ‡πÅ‡∏•‡πâ‡∏ß AI ‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞
                <strong>"‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á" (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà)</strong> ‡πÉ‡∏´‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
            </p>

            <div class="form-group">
                <label for="file-input">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (PDF, TXT):</label>
                <input type="file" id="file-input" name="file" accept=".pdf,.txt">
            </div>

            <button type="button" id="analyze-btn" class="btn btn-cta">
                üöÄ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
            </button>

            <span id="loading-spinner" style="display: none;">
                <div class="spinner"></div>
                <span class="spinner-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</span>
            </span>
        </div>

        <hr style="border: none; border-top: 2px solid #e5e7eb; margin: 30px 0;">


        <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà (Manual Entry)</h3>
        <form id="add-location-form">
            Slug (Key): <br>
            <input type="text" id="form-slug" name="slug" required pattern="^[a-z0-9_-]{3,}$"
                title="Slug (3+ chars, a-z, 0-9, _, -)"><br>

            Title: <br>
            <input type="text" id="form-title" name="title" required><br>
            Summary: <br>
            <textarea id="form-summary" name="summary" rows="5"></textarea><br>
            Category: <br>
            <input type="text" id="form-category" name="category" required><br>
            Topic: <br>
            <input type="text" id="form-topic" name="topic" required><br>

            Keywords (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ comma ,): <br>
            <input type="text" id="form-keywords" name="keywords" placeholder="e.g., ‡∏ß‡∏±‡∏î,‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö‡∏£‡∏±‡∏Å,‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô"><br>

            Details (JSON Array): <br>
            <textarea id="form-details" name="details" rows="8"
                placeholder='[{"heading": "‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°", "content": "..."}]'></textarea><br>
            <hr style="margin: 20px 0;">
            <h4>Image Management (Add)</h4>
            <p>Image Prefix ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Slug ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</p>

            Image Prefix (‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Slug): <br>
            <input type="text" id="form-image-prefix" name="image_prefix" placeholder="e.g., wat_phumin_"><br>

            Upload Image File: <br>
            <input type="file" id="form-image-file" name="image_file" accept="image/*"><br><br>

            <button type="submit" class="btn btn-submit"
                style="background-color: #28a745; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">Add
                Location</button>
        </form>
        <hr>

        <div id="edit-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close-button"
                    onclick="document.getElementById('edit-modal').style.display='none'">&times;</span>
                <h2>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</h2>
                <div id="edit-form-image-preview-container" style="margin-bottom: 20px; text-align: center;">
                    <p><strong>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</strong></p>
                    <img id="edit-form-image-preview" src="" alt="Image Preview"
                        style="max-width: 100%; max-height: 200px; border-radius: 8px; border: 1px solid #ddd; display: none;">
                    <p id="edit-form-no-image" style="color: #888;">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
                </div>
                <form id="edit-location-form">
                    <input type="hidden" id="edit-form-mongo-id" name="mongo_id">
                    <input type="hidden" id="edit-form-slug" name="slug">

                    Slug (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ): <br>
                    <input type="text" id="display-slug" disabled style="background: #eee;"><br>

                    Title: <br>
                    <input type="text" id="edit-form-title" name="title" required><br>
                    Summary: <br>
                    <textarea id="edit-form-summary" name="summary" rows="5"></textarea><br>
                    Category: <br>
                    <input type="text" id="edit-form-category" name="category" required><br>
                    Topic: <br>
                    <input type="text" id="edit-form-topic" name="topic" required><br>

                    Keywords (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ comma ,): <br>
                    <input type="text" id="edit-form-keywords" name="keywords"
                        placeholder="e.g., ‡∏ß‡∏±‡∏î,‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö‡∏£‡∏±‡∏Å,‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô"><br>

                    Details (JSON Array): <br>
                    <textarea id="edit-form-details" name="details" rows="8"
                        placeholder='[{"heading": "‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°", "content": "..."}]'></textarea><br>
                    <hr style="margin: 20px 0;">
                    <h4>Image Management (Edit)</h4>
                    <p>Image Prefix ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Slug (‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö)</p>

                    Image Prefix (‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Slug ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á): <br>
                    <input type="text" id="edit-form-image-prefix" name="image_prefix"
                        placeholder="e.g., wat_phumin_"><br>

                    Upload New Image File (Optional): <br>
                    <input type="file" id="edit-form-image-file" name="image_file" accept="image/*"><br><br>

                    <button type="submit" class="btn btn-submit"
                        style="background-color: #28a745; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">Save
                        Changes</button>
                </form>
            </div>
        </div>

        <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
        <table id="locations-table">
            <thead>
                <tr>
                    <th>Preview</th>
                    <th>Slug</th>
                    <th>Title</th>
                    <th>Category</th>
                    <th>Topic</th>
                    <th>Has Image Link?</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

        <script src="assets/scripts/config.js"></script>
        <script src="assets/scripts/admin.js"></script>
</body>

</html>